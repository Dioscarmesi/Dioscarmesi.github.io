<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Moderación VRChat</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link href="css/style.css" rel="stylesheet" />
</head>
<body>
  <div class="navbar">
  <div class="nav-left">
    <span class="nav-title">Moderación VRChat</span>
  </div>
  <div class="nav-right">
    <div class="nav-user">
      <span id="navUserName" class="nav-name">Invitado</span>
      <span id="navUserRole" class="tag nav-role">—</span>
    </div>
    <button id="navLogout" class="btn secondary sm">Cerrar sesión</button>
  </div>
</div>
  <div class="wrap">

    <!-- Toolbar con filtros -->
    <div class="toolbar card">
      <input type="text" id="q" class="input" style="max-width:380px" placeholder="Buscar por username, ID, notas..." />
      <select id="f-estado" class="select">
        <option value="Todos">Todos</option>
        <option value="Revisión">Revisión</option>
        <option value="Investigación">Investigación</option>
        <option value="Banned">Banned</option>
        <option value="Activo">Activo</option>
      </select>
      <select id="f-peligro" class="select">
        <option value="Todos">Todos</option>
        <option value="Bajo">Bajo</option>
        <option value="Medio">Medio</option>
        <option value="Extremo">Extremo</option>
      </select>
      <button id="btn-nuevo" class="btn">Nuevo usuario VRChat</button>
      <span class="right muted">Total: <span id="totalRows">0</span></span>
    </div>

    <!-- Tabla de baneados -->
    <div class="card table-wrap">
      <table class="table--compact">
        <thead>
          <tr>
            <th>Sanción</th>
            <th>Evidencias / ID</th>
            <th>Notas</th>
            <th>Creado por</th>
            <th>Actualizado</th>
            <th>Acciones</th>
          </tr>
        </thead>
        <tbody id="banTbody">
          <!-- Se llena por JS -->
        </tbody>
      </table>
    </div>

    <!-- Formulario de reporte -->
    <div class="card form-card">
      <form id="banForm">
        <div class="form-title">Registrar / Editar reporte</div>

        <div class="form-grid">
          <div class="field">
            <label class="label" for="r-username">Username</label>
            <input id="r-username" type="text" class="input" required />
          </div>

          <div class="field">
            <label class="label" for="r-vrchatId">ID / Link de VRChat</label>
            <input id="r-vrchatId" type="text" class="input" required />
          </div>

          <div class="field-inline" style="grid-column:1 / -1">
            <div class="field">
              <label class="label" for="r-estado">Estado</label>
              <select id="r-estado" class="select">
                <option>Revisión</option>
                <option>Investigación</option>
                <option>Banned</option>
                <option>Activo</option>
              </select>
            </div>

            <div class="field">
              <label class="label" for="r-peligro">Peligro</label>
              <select id="r-peligro" class="select">
                <option>Bajo</option>
                <option>Medio</option>
                <option>Extremo</option>
              </select>
            </div>

            <div class="field">
              <label class="label" for="r-diasSancion">Días de sanción</label>
              <input id="r-diasSancion" type="text" class="input" placeholder="Ej. 7 o Permanente" />
            </div>
          </div>

          <div class="field" style="grid-column:1 / -1">
            <label class="label" for="r-evidencias">Link de evidencias</label>
            <input id="r-evidencias" type="text" class="input" placeholder="https://..." />
            <div class="help">Puedes pegar el perfil de VRChat o un documento con pruebas.</div>
          </div>

          <div class="field" style="grid-column:1 / -1">
            <label class="label" for="r-notas">Notas</label>
            <textarea id="r-notas" class="textarea" rows="4" placeholder="Detalle del caso"></textarea>
          </div>

          <div class="field">
            <label class="label" for="r-creadoPor">Creado por</label>
            <input id="r-creadoPor" type="text" class="input" readonly />
          </div>

          <div class="field">
            <label class="label" for="r-fechaCreacion">Fecha creación</label>
            <input id="r-fechaCreacion" type="date" class="input" />
          </div>

          <div class="field">
            <label class="label" for="r-fechaActualizacion">Última actualización</label>
            <input id="r-fechaActualizacion" type="date" class="input" readonly />
          </div>
        </div>

        <div class="form-actions">
          <button type="submit" id="r-submit" class="btn">Guardar</button>
          <button type="button" id="r-cancel" class="btn secondary">Cancelar</button>
        </div>
      </form>
    </div>

    <div class="foot">
      Moderación VRChat &copy; 2025 — Demo en LocalStorage
    </div>
  </div>

  <script src="js/app.js"></script>
</body>
</html>
